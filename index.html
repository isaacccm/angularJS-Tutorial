<!doctype html>

<!-- This module is about how to connect to Camera through Iphone and Android OS.
     The module is also ended up to send the user id that captured QR code.
 -->

<!-- ng-init is a directive that initializes application data by assigning
variable values -->
<html ng-app="sendQRData" >
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="css/main.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="vendors/css/normalize.css">
        <link rel="stylesheet" type="text/css" href="vendors/css/grid.css">
        <link rel="stylesheet" type="text/css" href="vendors/css/ionicons.min.css">
        <link rel="stylesheet" type="text/css" href="vendors/css/animate.css">
        <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,300italic' rel='stylesheet' type='text/css'>

        <title>Camera Module</title>
    </head>

    <!-- Load the AngularJS library -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>

    <!-- Load the JS Module -->
    <script type="text/javascript" src="js/webqr.js"></script>
    <script type="text/javascript" src="js/llqrcode.js"></script>

    <script>
    function myFunction() {
        var x = document.getElementById("result").innerHTML;
        name = x;
    }
    </script>

    <body>

    <div id="mainbody">
        <table class="tsel" border="0" width="100%">
            <tr>
            <td valign="top" align="center" width="50%">
            <table class="tsel" border="0">
                <tr>
                <td><img class="selector" id="webcamimg" src="src/vid.png" onclick="setwebcam()" align="left" /></td>
                <td><img class="selector" id="qrimg" src="src/cam.png" onclick="setimg()" align="right"/></td></tr>
                <tr><td colspan="2" align="center">
                <div id="outdiv"></div>
                </td>
                </tr>
            </table>
            </td>
            </tr>
            <tr>
            <td colspan="3" align="center">
                    <div class="selector" id="refresh_cam"  onclick="setwebcam()" align="center" />
                        Press this button for QR code Reader Refresh
                    </div>
            </td>
            </tr>
            <tr><td colspan="3" align="center">
            <div id="result"></div>
            <div id="result_by_server" ng-controller="FetchController">
                <button ng-model="name" ng-click="findPerson()">Find Person</button>
                <ul>
                    <lp ng-repeat="list in myData | filter:name:startWith">
                    {{      'ID:' + list.ukc_id +
                        ', Date:<div class="col span-1-of-2">' + list.meal      }}
                    </lp>
                </ul>

            </div>
            </td></tr>
        </table>
    </div>

    <canvas id="qr-canvas" width="800" height="300"></canvas>
    <script type="text/javascript">load();</script>

    <footer>
      <div id="row">
        <div class="col span-1-of-2">
          <ul class ="footer-nav">
            <li><a href="index.html">Test Page 1</a></li>
            <li><a href="cam_app.html">Test Page 2</a></li>
          </ul>
        </div>
      </div>
    </footer>

  </body>
  </html>
